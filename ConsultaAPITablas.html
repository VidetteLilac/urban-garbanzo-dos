<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Api Back4App | 3D SECTOR</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/prettyPhoto.css" rel="stylesheet">
    <link href="css/price-range.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
    <link href="css/responsive.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>

    <link rel="shortcut icon" href="imagenes/ico/favicon.ico">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script type="text/javascript" src="https://npmcdn.com/parse/dist/parse.min.js"></script>

    <script>
        Parse.serverURL = 'https://parseapi.back4app.com'; // This is your Server URL
        Parse.initialize(
            /*  Claves Victor */
            'AodUV80e7GsQrhBHrTq1bo2KyXAV0cPTIhWkn7zI', // This is your Application ID
            '0SUXjA7DMxDp4lIZiuNMIy0OZDuWWQpxJuqKJVkh' // This is your Javascript key

            /*Clave 3D SECTOR Pruebas*/
            /* 'plhNI7pAFk6UBfsEGKNGn37yKZv5aa3JBb20VcIW', // This is your Application ID
            'dIVRSTC2JfrGDruZkM6JMXufr0tdQKTmkKtmqPdm' // This is your Javascript key */
        )
    </script>
</head>

<body>
    <header id="header">
        <!--header-->
        <div class="header-middle">
            <!--header-middle-->
            <div class="container">
                <div class="row">
                    <div class="col-md-4 clearfix">
                        <div class="logo pull-left">
                            <a href="Home.html"><img src="imagenes/logo/Logo.png" alt="" /></a>
                        </div>
                    </div>
                    <div class="col-md-4 clearfix">
                        <div class="logo">
                            <h1>API Back4App</h1>
                        </div>
                    </div>
                    <div class="col-md-4 clearfix">
                        <div><label id="lblUsuarioActual" text=""></label></div>
                        <div class="shop-menu clearfix pull-right">
                            <ul class="nav navbar-nav">
                                <li><i class="far fa-user"></i> Usuario Actual:<a id="usuarioActual" href="#"></a></li>
                                <li><a id="cerrarSesion" href="#"><i class="fa fa-unlock"></i> Cerrar Sesi√≥n</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--/header-middle-->
    </header>

    <section id="Productform">
        <!--form-->
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <div id="divRegistrarProducto" class="signup-form">
                        <h2>Consultar contenido Tablas</h2>
                        <form id="frmRegistrar" method="POST" action="javascript: ConsultarTablaAPI()">
                            <table width="90%">
                                <tr>
                                    <td><label>Nombre tabla:</label></td>
                                    <td>
                                        <select id="ddlTablasBase" name="ddlCategorias" required>
                                            <option value="">Selecciona una Tabla...</option>
                                            <option value="Role">Role</option>
                                            <option value="Session">Session</option>
                                            <option value="User">User</option>
                                            <option value="Category">Category</option>
                                            <option value="IdentificationType">IdentificationType</option>
                                            <option value="KartProducts">KartProducts</option>
                                            <option value="Product">Product</option>
                                            <option value="ShoppingKart">ShoppingKart</option>
                                        </select>
                                    </td>
                                    <!-- <td><input id="txtNombreTabla" type="text" placeholder="Nombre de la tabla a consultar" required/></td>                            -->
                                </tr>
                                <tr>
                                    <td><label>Resultado JSON:</label></td>
                                    <td><textarea id="txtDescripcion1" rows="15" cols="100"
                                            placeholder="Contenido JSON Stringify"></textarea></td>
                                </tr>
                                <tr>
                                    <td><button type="submit" class="btn btn-succes"
                                            style="display: inline-block;">Consultar Contenido Tabla</button></td>
                                </tr>
                            </table>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="js/jquery.js"></script>
    <script src="js/price-range.js"></script>
    <script src="js/jquery.scrollUp.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>
    <script src="js/main.js"></script>

    <script>
        function ConsultarTablaAPI() {
            debugger;
            var nombreTabla = document.getElementById('ddlTablasBase').value;

            const tabla = Parse.Object.extend(nombreTabla);
            const query = new Parse.Query(tabla);

            query.find().then((results) => {
                if (typeof document !== 'undefined') {
                    document.getElementById('txtDescripcion1').innerHTML = nombreTabla + ':' + JSON.stringify(
                        results, undefined, 4);
                }
            }, (error) => {
                if (typeof document !== 'undefined') {
                    document.getElementById('txtDescripcion1').innerHTML = JSON.stringify(error, undefined, 4);
                }
            });
        }
    </script>
</body>

</html>